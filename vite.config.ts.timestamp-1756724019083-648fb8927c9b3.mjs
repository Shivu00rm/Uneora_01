// vite.config.ts
import { defineConfig } from "file:///app/code/node_modules/vite/dist/node/index.js";
import react from "file:///app/code/node_modules/@vitejs/plugin-react/dist/index.js";
import path from "path";

// server/index.ts
import "file:///app/code/node_modules/dotenv/config.js";
import express from "file:///app/code/node_modules/express/index.js";
import cors from "file:///app/code/node_modules/cors/lib/index.js";

// server/routes/demo.ts
var handleDemo = (req, res) => {
  const response = {
    message: "Hello from Express server"
  };
  res.status(200).json(response);
};

// server/lib/response.ts
import { randomUUID } from "crypto";
function attachRequestId(req, _res, next) {
  req.requestId = req.headers["x-request-id"] || randomUUID();
  next();
}
function success(req, res, data, status = 200) {
  const body = { success: true, data, requestId: req.requestId };
  res.status(status).json(body);
}
function error(req, res, code, message, details, status = 400, retryable = false) {
  const body = { success: false, code, message, details, requestId: req.requestId, retryable };
  res.status(status).json(body);
}
function errorHandler(err, req, res, _next) {
  const msg = err?.message || "Internal Server Error";
  const details = err?.details || void 0;
  error(req, res, "INTERNAL_ERROR", msg, details, 500, false);
}

// server/lib/eventBus.ts
import { createClient } from "file:///app/code/node_modules/@supabase/supabase-js/dist/main/index.js";
var outbox = [];
var SUPABASE_URL = process.env.SUPABASE_URL;
var SUPABASE_SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY;
var supabase = null;
if (SUPABASE_URL && SUPABASE_SERVICE_ROLE_KEY) {
  supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
}
async function emitEvent(topic, payload) {
  const event = { topic, payload, createdAt: (/* @__PURE__ */ new Date()).toISOString() };
  outbox.push(event);
  if (supabase) {
    try {
      await supabase.from("events_outbox").insert({ topic, payload, status: "pending" });
    } catch (e) {
      console.error("Outbox persist failed", e);
    }
  }
}

// server/routes/stripe.ts
async function getStripe() {
  const key = process.env.STRIPE_SECRET_KEY;
  if (!key) return null;
  try {
    const mod = await import("stripe");
    const Stripe = mod.default || mod;
    return new Stripe(key, { apiVersion: "2024-06-20" });
  } catch {
    return null;
  }
}
var createCheckoutSession = async (req, res) => {
  const stripe = await getStripe();
  const plan = req.body?.plan;
  if (!plan) return error(req, res, "INVALID_REQUEST", "Missing plan", void 0, 400);
  if (!stripe) {
    return error(
      req,
      res,
      "STRIPE_NOT_CONFIGURED",
      "Stripe not configured. Set STRIPE_SECRET_KEY and install 'stripe' package to enable checkout.",
      void 0,
      501,
      false
    );
  }
  try {
    const session = await stripe.checkout.sessions.create({
      mode: "subscription",
      line_items: [{ price: process.env[`STRIPE_PRICE_${String(plan).toUpperCase()}`], quantity: 1 }],
      success_url: `${req.headers.origin || ""}/app/billing?success=1`,
      cancel_url: `${req.headers.origin || ""}/app/billing?canceled=1`
    });
    await emitEvent("billing.checkout_session_created", { plan, sessionId: session.id });
    return success(req, res, { url: session.url });
  } catch (e) {
    return error(req, res, "STRIPE_ERROR", e?.message || "Stripe error", e, 502, true);
  }
};
var createBillingPortal = async (req, res) => {
  const stripe = await getStripe();
  if (!stripe) {
    return error(
      req,
      res,
      "STRIPE_NOT_CONFIGURED",
      "Stripe not configured. Set STRIPE_SECRET_KEY and install 'stripe' package to enable portal.",
      void 0,
      501,
      false
    );
  }
  try {
    const customerId = req.query.customerId;
    if (!customerId) return error(req, res, "INVALID_REQUEST", "Missing customerId", void 0, 400);
    const session = await stripe.billingPortal.sessions.create({ customer: customerId, return_url: `${req.headers.origin || ""}/app/billing` });
    await emitEvent("billing.portal_session_created", { customerId, sessionId: session.id });
    return success(req, res, { url: session.url });
  } catch (e) {
    return error(req, res, "STRIPE_ERROR", e?.message || "Stripe error", e, 502, true);
  }
};
var stripeWebhook = async (req, res) => {
  const whSecret = process.env.STRIPE_WEBHOOK_SECRET;
  const buf = req.rawBody;
  const stripe = await getStripe();
  if (!stripe || !whSecret || !buf) {
    await emitEvent("billing.webhook_received_unverified", { info: "Stripe not configured or raw body missing" });
    return success(req, res, { received: true });
  }
  try {
    const sig = req.headers["stripe-signature"];
    const event = stripe.webhooks.constructEvent(buf, sig, whSecret);
    await emitEvent("billing.webhook_received", { id: event.id, type: event.type });
    return success(req, res, { received: true });
  } catch (e) {
    return error(req, res, "WEBHOOK_VERIFY_FAILED", e?.message || "Invalid webhook", void 0, 400);
  }
};

// server/index.ts
function createServer() {
  const app = express();
  app.use(cors());
  app.use(attachRequestId);
  app.post(
    "/api/stripe/webhook",
    express.raw({ type: "application/json" }),
    (req, _res, next) => {
      req.rawBody = req.body;
      next();
    },
    stripeWebhook
  );
  app.use(express.json());
  app.use(express.urlencoded({ extended: true }));
  app.get("/api/ping", (req, res) => {
    const ping = process.env.PING_MESSAGE ?? "ping";
    return success(req, res, { message: ping });
  });
  app.get("/api/demo", handleDemo);
  app.post("/api/billing/checkout-session", createCheckoutSession);
  app.get("/api/billing/portal", createBillingPortal);
  app.use(errorHandler);
  return app;
}

// vite.config.ts
var __vite_injected_original_dirname = "/app/code";
var vite_config_default = defineConfig(({ mode }) => ({
  server: {
    host: "::",
    port: 8080,
    fs: {
      allow: ["./client", "./shared"],
      deny: [".env", ".env.*", "*.{crt,pem}", "**/.git/**", "server/**"]
    }
  },
  build: {
    outDir: "dist/spa"
  },
  plugins: [react(), expressPlugin()],
  resolve: {
    alias: {
      "@": path.resolve(__vite_injected_original_dirname, "./client"),
      "@shared": path.resolve(__vite_injected_original_dirname, "./shared")
    }
  }
}));
function expressPlugin() {
  return {
    name: "express-plugin",
    apply: "serve",
    // Only apply during development (serve mode)
    configureServer(server) {
      const app = createServer();
      server.middlewares.use(app);
    }
  };
}
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcudHMiLCAic2VydmVyL2luZGV4LnRzIiwgInNlcnZlci9yb3V0ZXMvZGVtby50cyIsICJzZXJ2ZXIvbGliL3Jlc3BvbnNlLnRzIiwgInNlcnZlci9saWIvZXZlbnRCdXMudHMiLCAic2VydmVyL3JvdXRlcy9zdHJpcGUudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCIvYXBwL2NvZGVcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZmlsZW5hbWUgPSBcIi9hcHAvY29kZS92aXRlLmNvbmZpZy50c1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9pbXBvcnRfbWV0YV91cmwgPSBcImZpbGU6Ly8vYXBwL2NvZGUvdml0ZS5jb25maWcudHNcIjtpbXBvcnQgeyBkZWZpbmVDb25maWcsIFBsdWdpbiB9IGZyb20gXCJ2aXRlXCI7XG5pbXBvcnQgcmVhY3QgZnJvbSBcIkB2aXRlanMvcGx1Z2luLXJlYWN0XCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IHsgY3JlYXRlU2VydmVyIH0gZnJvbSBcIi4vc2VydmVyXCI7XG5cbi8vIGh0dHBzOi8vdml0ZWpzLmRldi9jb25maWcvXG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb25maWcoKHsgbW9kZSB9KSA9PiAoe1xuICBzZXJ2ZXI6IHtcbiAgICBob3N0OiBcIjo6XCIsXG4gICAgcG9ydDogODA4MCxcbiAgICBmczoge1xuICAgICAgYWxsb3c6IFtcIi4vY2xpZW50XCIsIFwiLi9zaGFyZWRcIl0sXG4gICAgICBkZW55OiBbXCIuZW52XCIsIFwiLmVudi4qXCIsIFwiKi57Y3J0LHBlbX1cIiwgXCIqKi8uZ2l0LyoqXCIsIFwic2VydmVyLyoqXCJdLFxuICAgIH0sXG4gIH0sXG4gIGJ1aWxkOiB7XG4gICAgb3V0RGlyOiBcImRpc3Qvc3BhXCIsXG4gIH0sXG4gIHBsdWdpbnM6IFtyZWFjdCgpLCBleHByZXNzUGx1Z2luKCldLFxuICByZXNvbHZlOiB7XG4gICAgYWxpYXM6IHtcbiAgICAgIFwiQFwiOiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCBcIi4vY2xpZW50XCIpLFxuICAgICAgXCJAc2hhcmVkXCI6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsIFwiLi9zaGFyZWRcIiksXG4gICAgfSxcbiAgfSxcbn0pKTtcblxuZnVuY3Rpb24gZXhwcmVzc1BsdWdpbigpOiBQbHVnaW4ge1xuICByZXR1cm4ge1xuICAgIG5hbWU6IFwiZXhwcmVzcy1wbHVnaW5cIixcbiAgICBhcHBseTogXCJzZXJ2ZVwiLCAvLyBPbmx5IGFwcGx5IGR1cmluZyBkZXZlbG9wbWVudCAoc2VydmUgbW9kZSlcbiAgICBjb25maWd1cmVTZXJ2ZXIoc2VydmVyKSB7XG4gICAgICBjb25zdCBhcHAgPSBjcmVhdGVTZXJ2ZXIoKTtcblxuICAgICAgLy8gQWRkIEV4cHJlc3MgYXBwIGFzIG1pZGRsZXdhcmUgdG8gVml0ZSBkZXYgc2VydmVyXG4gICAgICBzZXJ2ZXIubWlkZGxld2FyZXMudXNlKGFwcCk7XG4gICAgfSxcbiAgfTtcbn1cbiIsICJjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZGlybmFtZSA9IFwiL2FwcC9jb2RlL3NlcnZlclwiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9maWxlbmFtZSA9IFwiL2FwcC9jb2RlL3NlcnZlci9pbmRleC50c1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9pbXBvcnRfbWV0YV91cmwgPSBcImZpbGU6Ly8vYXBwL2NvZGUvc2VydmVyL2luZGV4LnRzXCI7aW1wb3J0IFwiZG90ZW52L2NvbmZpZ1wiO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBjb3JzIGZyb20gXCJjb3JzXCI7XG5pbXBvcnQgeyBoYW5kbGVEZW1vIH0gZnJvbSBcIi4vcm91dGVzL2RlbW9cIjtcbmltcG9ydCB7IGF0dGFjaFJlcXVlc3RJZCwgZXJyb3JIYW5kbGVyLCBzdWNjZXNzIH0gZnJvbSBcIi4vbGliL3Jlc3BvbnNlXCI7XG5pbXBvcnQgeyBjcmVhdGVDaGVja291dFNlc3Npb24sIGNyZWF0ZUJpbGxpbmdQb3J0YWwsIHN0cmlwZVdlYmhvb2sgfSBmcm9tIFwiLi9yb3V0ZXMvc3RyaXBlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZXJ2ZXIoKSB7XG4gIGNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuICAvLyBDb3JlIG1pZGRsZXdhcmVcbiAgYXBwLnVzZShjb3JzKCkpO1xuICBhcHAudXNlKGF0dGFjaFJlcXVlc3RJZCk7XG5cbiAgLy8gV2ViaG9vayBtdXN0IHJlY2VpdmUgcmF3IGJvZHkgZm9yIHNpZ25hdHVyZSB2ZXJpZmljYXRpb25cbiAgYXBwLnBvc3QoXG4gICAgXCIvYXBpL3N0cmlwZS93ZWJob29rXCIsXG4gICAgZXhwcmVzcy5yYXcoeyB0eXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9KSxcbiAgICAocmVxLCBfcmVzLCBuZXh0KSA9PiB7XG4gICAgICAocmVxIGFzIGFueSkucmF3Qm9keSA9IHJlcS5ib2R5IGFzIEJ1ZmZlcjtcbiAgICAgIG5leHQoKTtcbiAgICB9LFxuICAgIHN0cmlwZVdlYmhvb2ssXG4gICk7XG5cbiAgLy8gSlNPTiBwYXJzaW5nIGZvciBvdGhlciByb3V0ZXNcbiAgYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG4gIGFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuXG4gIC8vIEhlYWx0aCAmIGRlbW9cbiAgYXBwLmdldChcIi9hcGkvcGluZ1wiLCAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBwaW5nID0gcHJvY2Vzcy5lbnYuUElOR19NRVNTQUdFID8/IFwicGluZ1wiO1xuICAgIHJldHVybiBzdWNjZXNzKHJlcSwgcmVzLCB7IG1lc3NhZ2U6IHBpbmcgfSk7XG4gIH0pO1xuXG4gIGFwcC5nZXQoXCIvYXBpL2RlbW9cIiwgaGFuZGxlRGVtbyk7XG5cbiAgLy8gQmlsbGluZyByb3V0ZXNcbiAgYXBwLnBvc3QoXCIvYXBpL2JpbGxpbmcvY2hlY2tvdXQtc2Vzc2lvblwiLCBjcmVhdGVDaGVja291dFNlc3Npb24pO1xuICBhcHAuZ2V0KFwiL2FwaS9iaWxsaW5nL3BvcnRhbFwiLCBjcmVhdGVCaWxsaW5nUG9ydGFsKTtcblxuICAvLyBFcnJvciBoYW5kbGVyIGxhc3RcbiAgYXBwLnVzZShlcnJvckhhbmRsZXIpO1xuXG4gIHJldHVybiBhcHA7XG59XG4iLCAiY29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2Rpcm5hbWUgPSBcIi9hcHAvY29kZS9zZXJ2ZXIvcm91dGVzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ZpbGVuYW1lID0gXCIvYXBwL2NvZGUvc2VydmVyL3JvdXRlcy9kZW1vLnRzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9hcHAvY29kZS9zZXJ2ZXIvcm91dGVzL2RlbW8udHNcIjtpbXBvcnQgeyBSZXF1ZXN0SGFuZGxlciB9IGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgeyBEZW1vUmVzcG9uc2UgfSBmcm9tIFwiQHNoYXJlZC9hcGlcIjtcblxuZXhwb3J0IGNvbnN0IGhhbmRsZURlbW86IFJlcXVlc3RIYW5kbGVyID0gKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlOiBEZW1vUmVzcG9uc2UgPSB7XG4gICAgbWVzc2FnZTogXCJIZWxsbyBmcm9tIEV4cHJlc3Mgc2VydmVyXCIsXG4gIH07XG4gIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJlc3BvbnNlKTtcbn07XG4iLCAiY29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2Rpcm5hbWUgPSBcIi9hcHAvY29kZS9zZXJ2ZXIvbGliXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ZpbGVuYW1lID0gXCIvYXBwL2NvZGUvc2VydmVyL2xpYi9yZXNwb25zZS50c1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9pbXBvcnRfbWV0YV91cmwgPSBcImZpbGU6Ly8vYXBwL2NvZGUvc2VydmVyL2xpYi9yZXNwb25zZS50c1wiO2ltcG9ydCB0eXBlIHsgUmVxdWVzdCwgUmVzcG9uc2UsIE5leHRGdW5jdGlvbiB9IGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgeyByYW5kb21VVUlEIH0gZnJvbSBcImNyeXB0b1wiO1xuXG5leHBvcnQgdHlwZSBBcGlTdWNjZXNzPFQgPSBhbnk+ID0geyBzdWNjZXNzOiB0cnVlOyBkYXRhOiBUOyByZXF1ZXN0SWQ6IHN0cmluZyB9O1xuZXhwb3J0IHR5cGUgQXBpRXJyb3IgPSB7XG4gIHN1Y2Nlc3M6IGZhbHNlO1xuICBjb2RlOiBzdHJpbmc7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgZGV0YWlscz86IGFueTtcbiAgcmVxdWVzdElkOiBzdHJpbmc7XG4gIHJldHJ5YWJsZT86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoUmVxdWVzdElkKHJlcTogUmVxdWVzdCwgX3JlczogUmVzcG9uc2UsIG5leHQ6IE5leHRGdW5jdGlvbikge1xuICAocmVxIGFzIGFueSkucmVxdWVzdElkID0gcmVxLmhlYWRlcnNbXCJ4LXJlcXVlc3QtaWRcIl0gfHwgcmFuZG9tVVVJRCgpO1xuICBuZXh0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdWNjZXNzPFQ+KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSwgZGF0YTogVCwgc3RhdHVzID0gMjAwKSB7XG4gIGNvbnN0IGJvZHk6IEFwaVN1Y2Nlc3M8VD4gPSB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEsIHJlcXVlc3RJZDogKHJlcSBhcyBhbnkpLnJlcXVlc3RJZCB9O1xuICByZXMuc3RhdHVzKHN0YXR1cykuanNvbihib2R5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSwgY29kZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM/OiBhbnksIHN0YXR1cyA9IDQwMCwgcmV0cnlhYmxlID0gZmFsc2UpIHtcbiAgY29uc3QgYm9keTogQXBpRXJyb3IgPSB7IHN1Y2Nlc3M6IGZhbHNlLCBjb2RlLCBtZXNzYWdlLCBkZXRhaWxzLCByZXF1ZXN0SWQ6IChyZXEgYXMgYW55KS5yZXF1ZXN0SWQsIHJldHJ5YWJsZSB9O1xuICByZXMuc3RhdHVzKHN0YXR1cykuanNvbihib2R5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVycm9ySGFuZGxlcihlcnI6IGFueSwgcmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlLCBfbmV4dDogTmV4dEZ1bmN0aW9uKSB7XG4gIGNvbnN0IG1zZyA9IGVycj8ubWVzc2FnZSB8fCBcIkludGVybmFsIFNlcnZlciBFcnJvclwiO1xuICBjb25zdCBkZXRhaWxzID0gZXJyPy5kZXRhaWxzIHx8IHVuZGVmaW5lZDtcbiAgZXJyb3IocmVxLCByZXMsIFwiSU5URVJOQUxfRVJST1JcIiwgbXNnLCBkZXRhaWxzLCA1MDAsIGZhbHNlKTtcbn1cbiIsICJjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZGlybmFtZSA9IFwiL2FwcC9jb2RlL3NlcnZlci9saWJcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZmlsZW5hbWUgPSBcIi9hcHAvY29kZS9zZXJ2ZXIvbGliL2V2ZW50QnVzLnRzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9hcHAvY29kZS9zZXJ2ZXIvbGliL2V2ZW50QnVzLnRzXCI7aW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zdXBhYmFzZS1qc1wiO1xuXG50eXBlIEV2ZW50UGF5bG9hZCA9IHsgdG9waWM6IHN0cmluZzsgcGF5bG9hZDogYW55OyBjcmVhdGVkQXQ6IHN0cmluZyB9O1xuXG5jb25zdCBvdXRib3g6IEV2ZW50UGF5bG9hZFtdID0gW107XG5cbmNvbnN0IFNVUEFCQVNFX1VSTCA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1VSTDtcbmNvbnN0IFNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZO1xuXG5sZXQgc3VwYWJhc2U6IGFueSA9IG51bGw7XG5pZiAoU1VQQUJBU0VfVVJMICYmIFNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkpIHtcbiAgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoU1VQQUJBU0VfVVJMLCBTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVtaXRFdmVudCh0b3BpYzogc3RyaW5nLCBwYXlsb2FkOiBhbnkpIHtcbiAgY29uc3QgZXZlbnQ6IEV2ZW50UGF5bG9hZCA9IHsgdG9waWMsIHBheWxvYWQsIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH07XG4gIG91dGJveC5wdXNoKGV2ZW50KTtcblxuICBpZiAoc3VwYWJhc2UpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgc3VwYWJhc2UuZnJvbShcImV2ZW50c19vdXRib3hcIikuaW5zZXJ0KHsgdG9waWMsIHBheWxvYWQsIHN0YXR1czogXCJwZW5kaW5nXCIgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gS2VlcCBpbi1tZW1vcnkgb25seSBvbiBmYWlsdXJlOyBubyB0aHJvd1xuICAgICAgY29uc29sZS5lcnJvcihcIk91dGJveCBwZXJzaXN0IGZhaWxlZFwiLCBlKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE91dGJveFNuYXBzaG90KCkge1xuICByZXR1cm4gWy4uLm91dGJveF07XG59XG4iLCAiY29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2Rpcm5hbWUgPSBcIi9hcHAvY29kZS9zZXJ2ZXIvcm91dGVzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ZpbGVuYW1lID0gXCIvYXBwL2NvZGUvc2VydmVyL3JvdXRlcy9zdHJpcGUudHNcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfaW1wb3J0X21ldGFfdXJsID0gXCJmaWxlOi8vL2FwcC9jb2RlL3NlcnZlci9yb3V0ZXMvc3RyaXBlLnRzXCI7aW1wb3J0IHR5cGUgeyBSZXF1ZXN0SGFuZGxlciB9IGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgeyBlcnJvciwgc3VjY2VzcyB9IGZyb20gXCIuLi9saWIvcmVzcG9uc2VcIjtcbmltcG9ydCB7IGVtaXRFdmVudCB9IGZyb20gXCIuLi9saWIvZXZlbnRCdXNcIjtcblxuYXN5bmMgZnVuY3Rpb24gZ2V0U3RyaXBlKCkge1xuICBjb25zdCBrZXkgPSBwcm9jZXNzLmVudi5TVFJJUEVfU0VDUkVUX0tFWTtcbiAgaWYgKCFrZXkpIHJldHVybiBudWxsIGFzIGFueTtcbiAgdHJ5IHtcbiAgICBjb25zdCBtb2QgPSBhd2FpdCBpbXBvcnQoXCJzdHJpcGVcIik7XG4gICAgY29uc3QgU3RyaXBlID0gKG1vZCBhcyBhbnkpLmRlZmF1bHQgfHwgKG1vZCBhcyBhbnkpO1xuICAgIHJldHVybiBuZXcgU3RyaXBlKGtleSwgeyBhcGlWZXJzaW9uOiBcIjIwMjQtMDYtMjBcIiBhcyBhbnkgfSk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsIGFzIGFueTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlQ2hlY2tvdXRTZXNzaW9uOiBSZXF1ZXN0SGFuZGxlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBzdHJpcGUgPSBhd2FpdCBnZXRTdHJpcGUoKTtcbiAgY29uc3QgcGxhbiA9IHJlcS5ib2R5Py5wbGFuO1xuICBpZiAoIXBsYW4pIHJldHVybiBlcnJvcihyZXEsIHJlcywgXCJJTlZBTElEX1JFUVVFU1RcIiwgXCJNaXNzaW5nIHBsYW5cIiwgdW5kZWZpbmVkLCA0MDApO1xuXG4gIGlmICghc3RyaXBlKSB7XG4gICAgcmV0dXJuIGVycm9yKFxuICAgICAgcmVxLFxuICAgICAgcmVzLFxuICAgICAgXCJTVFJJUEVfTk9UX0NPTkZJR1VSRURcIixcbiAgICAgIFwiU3RyaXBlIG5vdCBjb25maWd1cmVkLiBTZXQgU1RSSVBFX1NFQ1JFVF9LRVkgYW5kIGluc3RhbGwgJ3N0cmlwZScgcGFja2FnZSB0byBlbmFibGUgY2hlY2tvdXQuXCIsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICA1MDEsXG4gICAgICBmYWxzZSxcbiAgICApO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgc3RyaXBlLmNoZWNrb3V0LnNlc3Npb25zLmNyZWF0ZSh7XG4gICAgICBtb2RlOiBcInN1YnNjcmlwdGlvblwiLFxuICAgICAgbGluZV9pdGVtczogW3sgcHJpY2U6IHByb2Nlc3MuZW52W2BTVFJJUEVfUFJJQ0VfJHtTdHJpbmcocGxhbikudG9VcHBlckNhc2UoKX1gIGFzIGFueV0sIHF1YW50aXR5OiAxIH1dLFxuICAgICAgc3VjY2Vzc191cmw6IGAke3JlcS5oZWFkZXJzLm9yaWdpbiB8fCBcIlwifS9hcHAvYmlsbGluZz9zdWNjZXNzPTFgLFxuICAgICAgY2FuY2VsX3VybDogYCR7cmVxLmhlYWRlcnMub3JpZ2luIHx8IFwiXCJ9L2FwcC9iaWxsaW5nP2NhbmNlbGVkPTFgLFxuICAgIH0pO1xuXG4gICAgYXdhaXQgZW1pdEV2ZW50KFwiYmlsbGluZy5jaGVja291dF9zZXNzaW9uX2NyZWF0ZWRcIiwgeyBwbGFuLCBzZXNzaW9uSWQ6IHNlc3Npb24uaWQgfSk7XG4gICAgcmV0dXJuIHN1Y2Nlc3MocmVxLCByZXMsIHsgdXJsOiBzZXNzaW9uLnVybCB9KTtcbiAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgcmV0dXJuIGVycm9yKHJlcSwgcmVzLCBcIlNUUklQRV9FUlJPUlwiLCBlPy5tZXNzYWdlIHx8IFwiU3RyaXBlIGVycm9yXCIsIGUsIDUwMiwgdHJ1ZSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVCaWxsaW5nUG9ydGFsOiBSZXF1ZXN0SGFuZGxlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBzdHJpcGUgPSBhd2FpdCBnZXRTdHJpcGUoKTtcbiAgaWYgKCFzdHJpcGUpIHtcbiAgICByZXR1cm4gZXJyb3IoXG4gICAgICByZXEsXG4gICAgICByZXMsXG4gICAgICBcIlNUUklQRV9OT1RfQ09ORklHVVJFRFwiLFxuICAgICAgXCJTdHJpcGUgbm90IGNvbmZpZ3VyZWQuIFNldCBTVFJJUEVfU0VDUkVUX0tFWSBhbmQgaW5zdGFsbCAnc3RyaXBlJyBwYWNrYWdlIHRvIGVuYWJsZSBwb3J0YWwuXCIsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICA1MDEsXG4gICAgICBmYWxzZSxcbiAgICApO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBjdXN0b21lcklkID0gcmVxLnF1ZXJ5LmN1c3RvbWVySWQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIGlmICghY3VzdG9tZXJJZCkgcmV0dXJuIGVycm9yKHJlcSwgcmVzLCBcIklOVkFMSURfUkVRVUVTVFwiLCBcIk1pc3NpbmcgY3VzdG9tZXJJZFwiLCB1bmRlZmluZWQsIDQwMCk7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHN0cmlwZS5iaWxsaW5nUG9ydGFsLnNlc3Npb25zLmNyZWF0ZSh7IGN1c3RvbWVyOiBjdXN0b21lcklkLCByZXR1cm5fdXJsOiBgJHtyZXEuaGVhZGVycy5vcmlnaW4gfHwgXCJcIn0vYXBwL2JpbGxpbmdgIH0pO1xuICAgIGF3YWl0IGVtaXRFdmVudChcImJpbGxpbmcucG9ydGFsX3Nlc3Npb25fY3JlYXRlZFwiLCB7IGN1c3RvbWVySWQsIHNlc3Npb25JZDogc2Vzc2lvbi5pZCB9KTtcbiAgICByZXR1cm4gc3VjY2VzcyhyZXEsIHJlcywgeyB1cmw6IHNlc3Npb24udXJsIH0pO1xuICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICByZXR1cm4gZXJyb3IocmVxLCByZXMsIFwiU1RSSVBFX0VSUk9SXCIsIGU/Lm1lc3NhZ2UgfHwgXCJTdHJpcGUgZXJyb3JcIiwgZSwgNTAyLCB0cnVlKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHN0cmlwZVdlYmhvb2s6IFJlcXVlc3RIYW5kbGVyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHdoU2VjcmV0ID0gcHJvY2Vzcy5lbnYuU1RSSVBFX1dFQkhPT0tfU0VDUkVUO1xuICBjb25zdCBidWYgPSAocmVxIGFzIGFueSkucmF3Qm9keSBhcyBCdWZmZXIgfCB1bmRlZmluZWQ7XG4gIGNvbnN0IHN0cmlwZSA9IGF3YWl0IGdldFN0cmlwZSgpO1xuXG4gIGlmICghc3RyaXBlIHx8ICF3aFNlY3JldCB8fCAhYnVmKSB7XG4gICAgYXdhaXQgZW1pdEV2ZW50KFwiYmlsbGluZy53ZWJob29rX3JlY2VpdmVkX3VudmVyaWZpZWRcIiwgeyBpbmZvOiBcIlN0cmlwZSBub3QgY29uZmlndXJlZCBvciByYXcgYm9keSBtaXNzaW5nXCIgfSk7XG4gICAgcmV0dXJuIHN1Y2Nlc3MocmVxLCByZXMsIHsgcmVjZWl2ZWQ6IHRydWUgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHNpZyA9IHJlcS5oZWFkZXJzW1wic3RyaXBlLXNpZ25hdHVyZVwiXSBhcyBzdHJpbmc7XG4gICAgY29uc3QgZXZlbnQgPSBzdHJpcGUud2ViaG9va3MuY29uc3RydWN0RXZlbnQoYnVmLCBzaWcsIHdoU2VjcmV0KTtcbiAgICBhd2FpdCBlbWl0RXZlbnQoXCJiaWxsaW5nLndlYmhvb2tfcmVjZWl2ZWRcIiwgeyBpZDogZXZlbnQuaWQsIHR5cGU6IGV2ZW50LnR5cGUgfSk7XG4gICAgcmV0dXJuIHN1Y2Nlc3MocmVxLCByZXMsIHsgcmVjZWl2ZWQ6IHRydWUgfSk7XG4gIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgIHJldHVybiBlcnJvcihyZXEsIHJlcywgXCJXRUJIT09LX1ZFUklGWV9GQUlMRURcIiwgZT8ubWVzc2FnZSB8fCBcIkludmFsaWQgd2ViaG9va1wiLCB1bmRlZmluZWQsIDQwMCk7XG4gIH1cbn07XG4i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
